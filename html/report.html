<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.80.0">
    <title>ETL Project</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/album/">
  <!-- reference Font Awesome -->
  <script src="https://kit.fontawesome.com/2ce6145945.js" crossorigin="anonymous"></script>

    <!-- Bootstrap core CSS -->
    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
     
  </head>
  <body>
    
    <header>
      <div class="navbar navbar-dark bg-dark shadow-sm navbar-expand-lg">
        <div class="container">
          <a href="../index.html" class="navbar-brand d-flex align-items-center">
            <i class="fas fa-database"></i>
            <strong class="px-1"> ETL Project</strong>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
                  data-bs-target="#navbarHeader" aria-controls="navbarHeader" 
                  aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarHeader">
            <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="#">Project Report</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./data.html">Database Tables</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>

<main class="container">

  <div class="row">
    <div class="col-md">

      <div class="container py-3">

          <div class="row">
            <div class="column">

              <h1>Project Report</h1>
              <br>
              <p> Click on the link to jump to that section.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="bs-docs-section">
      <div class="row">
        <div class="col-lg-12">
          <div class="bs-component">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">Section</th>
                  <th scope="col">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr class="table-active">
                  <th scope="row"><a href="#extract_section">Extract</a></th>
                  <td>Original data sources and how the data was formatted (CSV, JSON, pgAdmin 4, etc).</td>
                </tr>
                <tr class="table-active">
                  <th scope="row"><a href="#transform_section">Transform</a></th>
                  <td>Transform: what data cleaning or transformation was required.</td>
                </tr>
                <tr class="table-active">
                  <th scope="row"><a href="#load_section">Load</a></th>
                  <td>The final database, tables/collections, and why this was chosen.</td>
                </tr>
                <tr class="table-active">
                  <th scope="row"><a href="#erd_section">ERD</a></th>
                  <td>Entity-Relationship Diagram, showing final database table structures and relationships. </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

  </div>

  <hr>
  <div class="row">
    <div class="column-md">
      <h2 id="extract_section">Extract</h2>
      <p>Data was extracted from two *.csv files at <a href="kaggle.com">Kaggle</a>:
      <ul>
        <li>
          <a href="https://www.kaggle.com/stefanoleone992/imdb-extensive-dataset?select=IMDb+movies.csv">The IMDb movies extensive dataset.</a>
        </li>
        <li>
          <a href="https://www.kaggle.com/ruchi798/movies-on-netflix-prime-video-hulu-and-disney">The Movies on Netflix, Prime Video, Hulu and Disney+ dataset. </a>
        </li>
      </ul>
      Data engineers worked on each individual dataset after downloading it to their respective workstations, and used the <a href="https://pandas.pydata.org/">Pandas data analysis library </a> to execute the remaining steps of the ETL process. 
      </p>
    </div>
  </div>

  <div class="row">
    <div class="column-md-6 px-3">
        Format for the first dataset (IMDB Movies Dataset)
        <table border="1">
          <thead>
            <tr style="text-align:center;">
              <th class="px-1">Column Name</th>
              <th class="px-1">Column Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center">imdb_title_id</td>
              <td class="text-justify px-1">Title Identifier from IMDB database.</td>
            </tr>	
            <tr>
              <td class="text-center">title</td>
              <td class="text-justify px-1">Title name</td>
            </tr>	
            <tr>
              <td class="text-center">original_title</td>
              <td class="text-justify px-1">Original title name </td>
            </tr>	
            <tr>
              <td class="text-center">year</td>
              <td class="text-justify px-1">Year of release</td>
            </tr>	
            <tr>
              <td class="text-center">date_published</td>	
              <td class="text-justify px-1">Date of release</td>
            </tr>
            <tr>
              <td class="text-center">genre</td>
              <td class="text-justify px-1">Movie genre</td>
            </tr>	
            <tr>
              <td class="text-center">duration</td>
              <td class="text-justify px-1">Duration (in minutes)</td>
            </tr>	
            <tr>
              <td class="text-center">country</td>
              <td class="text-justify px-1">Movie country</td>
            </tr>	
            <tr>
              <td class="text-center">language</td>
              <td class="text-justify px-1">Movie language</td>
            </tr>	
            <tr>
              <td class="text-center">director</td>	
              <td class="text-justify px-1">Director name</td>
            </tr>
            <tr>
              <td class="text-center">writer</td>
              <td class="text-justify px-1">Writer name</td>
            </tr>	
            <tr>
              <td class="text-center">production_company</td>
              <td class="text-justify px-1">Production company</td>
            </tr>	
            <tr>
              <td class="text-center">actors</td>
              <td class="text-justify px-1">Actor names</td>
            </tr>	
            <tr>
              <td class="text-center">description</td>	
              <td class="text-justify px-1">Plot description</td>
            </tr>
            <tr>
              <td class="text-center">avg_vote</td>
              <td class="text-justify px-1">Average vote</td>
            </tr>	
            <tr>
              <td class="text-center">votes</td>
              <td class="text-justify px-1">Number of votes</td>
            </tr>	
            <tr>
              <td class="text-center">budget</td>	
              <td class="text-justify px-1">Budget</td>
            </tr>
            <tr>
              <td class="text-center">usa_gross_income</td>
              <td class="text-justify px-1">USA Gross Income</td>
            </tr>	
            <tr>
              <td class="text-center">worlwide_gross_income</td>
              <td class="text-justify px-1">Worldwide Gross Income</td>
            </tr>	
            <tr>
              <td class="text-center">metascore</td>
              <td class="text-justify px-1">Metascore Rating</td>
            </tr>	
            <tr>
              <td class="text-center">reviews_from_users</td>
              <td class="text-justify px-1">Number of reviews from users</td>
            </tr>	
            <tr>
              <td class="text-center">reviews_from_critics</td>
              <td class="text-justify px-1">Number of reviews from critics</td>
            </tr>
          </tbody>
        </table>
    </div>
    <div class="column-md-6 px-3">
      Format for the second dataset (Streaming Services Movies and Series)
      <table border="1">
        <thead>
          <tr style="text-align:center;">
            <th class="px-1">Column Name</th>
            <th class="px-1">Column Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center">ID</td>
            <td class="text-justify px-1">Unique movie Id</td>
          </tr>	
          <tr>
            <td class="text-center">Title</td>
            <td class="text-justify px-1">Title</td>
          </tr>	
          <tr>
            <td class="text-center">Year</td>
            <td class="text-justify px-1">The year in which the movie was produced.</td>
          </tr>	
          <tr>
            <td class="text-center">Age</td>
            <td class="text-justify px-1">Target Age Group</td>
          </tr>	
          <tr>
            <td class="text-center">IMDb</td>	
            <td class="text-justify px-1">IMDb Rating</td>
          </tr>
          <tr>
            <td class="text-center">Rotten Tomatoes</td>
            <td class="text-justify px-1">Rotten Tomatoes %</td>
          </tr>	
          <tr>
            <td class="text-center">Netflix</td>
            <td class="text-justify px-1">Wether the movie is found on Netflix</td>
          </tr>	
          <tr>
            <td class="text-center">Hulu</td>
            <td class="text-justify px-1">Wether The Movie is found on Hulu</td>
          </tr>	
          <tr>
            <td class="text-center">Prime Video</td>
            <td class="text-justify px-1">Wether the movie is found on Prime Video</td>
          </tr>	
        </tbody>
      </table>
    </div>
  </div>

  <div class="row py-3">
    <div class="column">
      <p>The following figure shows the section of one of the Jupyter notebook files
        when the csv files are uploaded to Pandas:
      </p>
      <img src="../images/extract.png" style="max-width:75%;height:auto;">
    </div>
  </div>

  <div class="row">
    <div class="column-md">
      <hr>
      <h2 id="transform_section">Transform</h2>
      <p>
        Once the data from the *.csv files is uploaded to Pandas, data transformation and cleanup is executed.
      </p>
    </div>
  </div>

  <div class="row py-3">
    <div class="column">
      <p>The first step is to discard the unwanted columns from the dataFrame:
      </p>
      <img src="../images/transform1.png" style="max-width:90%;height:auto;">
    </div>
  </div>

  <div class="row py-3">
    <div class="column">
      <p>Then we get rid of rows with empty values.
      </p>
      <img src="../images/transform2.png" style="max-width:90%;height:auto;">
    </div>
  </div>

  <div class="row py-3">
    <div class="column">
      <p>Since both datasets do not share a common column that can be used to join them,
        we need to create a new column to serve as our join column.
        The way we did this was to first create a "Movie_Title" colulmn, 
        by concatenating the existing "title" column with the "year" column, 
        and applying the Pandas <i>hash()</i> function on this column to obtain
        the numeric value to be used as the key:
      </p>
        <ul>
          <li>
            Create the new columns:
            <img class="py-3" src="../images/transform3.png">
          </li>
          <li>
            Update the concatenated column:
            <img class="py-3" src="../images/transform4.png">
          </li>
          <li>
            Apply the hash function to the new concatenated column, and save to the new key column:
            <img class="py-3" src="../images/transform5.png">
          </li>
          <li>
            After renaming the primary key column, and setting the Pandas dataframe's 
            index to it, the data is ready to be uploaded to the database.
            <img class="py-3" src="../images/transform6.png">
          </li>
        </ul>
    </div>
  </div>

  <!-- Load Phase -->
  <hr>
  <div class="row">
    <div class="column-md">
      <h2 id="load_section">Load</h2>
      <p>
      The final phase consists of loading the data from the Pandas dataframe(s) into 
      relational tables. This is done using the <a href="https://www.sqlalchemy.org/">SQLAlchemy</a>
      library, which generates the <code>INSERT</code> statements to be sent to
      to the locally installed Postgres database. 
      </p>
      <ul>
        <li>
          We first create the connection to the database engine using SQLAlchemy's 
          <code>create_engine()</code> method:
          <img class="py-3" src="../images/load1.png">
        </li>
        <li>
          We then call the <code>to_sql()</code> method in the dataframe to upload the 
          data into the relational tables:
          <img class="py-3" src="../images/load2.png">
        </li>
      </ul>
      
        <div class="row">
          <div class="column-md">
            <p>
              Each of the previous steps (Extract, Transform, Load) is done for each of the 
              datasets.  After loading, three tables contain the data that was uploaded from 
              the *.csv files. The <code>MOVIES</code>, the <code>SERIES</code> and 
              the <code>IMDB_MOVIES</code> tables are loaded into the <b>imdb_db</b> 
              database.
            </p>
          </div>
          <div class="column-md">
              <img src="../images/load3.PNG">
              <p class="py-3">
                At this point, the data can be queried by using pgAdmin's Query tool,
                or any other SQL querying tool or application. 
              </p>
          </div>
        </div>
    </div>
  </div>

  <!-- ERD Section -->
  <hr>
  <div class="row">
    <div class="column-md">
      <h2 id="erd_section">
        Entity-Relationship Diagram
      </h2>
      <img src="../gregb/Images/ERD-ELTProject.png">
    </div>
  </div>


</main>

<hr>

<footer class="text-muted py-5 bg-light">
  <div class="container">
    <p class="mb-1">UCF Data Analysis And Visualization Bootcamp - Project 2 - ETL </p>
    <p class="mb-0">Visit the bootcamp's <a href="https://bootcamp.ce.ucf.edu/data/" target="_blank">web page</a>.</p>
  </div>
</footer>

    <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

      
  </body>
</html>
